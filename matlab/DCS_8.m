function [Y,Xf,Af] = DCS_8(X,~,~)
%DCS_8 neural network simulation function.
%
% Auto-generated by MATLAB, 05-May-2019 21:48:31.
% 
% [Y] = DCS_8(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 35xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 2xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [0.00120069098611025;0.000156281659952181;0.00236488767656627;0.00408479137007364;0.00172854682036548;0.000692772453801206;0.000154225323335098;2.83566362626678e-05;1.98977292319642e-06;1.64962732715356e-07;2.16594100015891e-09;4.17580790495951e-11;5.20410107169224e-14;1.53934576923816e-16;7.32800886761281e-21;1.4212908184457e-24;7.2704701242177e-31;3.20699077329469e-36;2.81332875646869e-45;6.00234783910807e-53;7.20150431109371e-66;8.55103806117184e-77;3.67303344871515e-95;1.14189339148783e-110;1.03596614563876e-136;1.110265906948e-158;1.49325633891594e-195;1.20704425216603e-226;8.21599881707689e-279;8.39911597930119e-323;0;0;0;0;0];
x1_step1.gain = [0.861413255979987;0.873751811991784;1.17801260377571;1.01765035790009;1.76862455094299;1.44207539535679;2.12894052434875;2.32112451613541;2.51701128162497;2.59461443353934;2.73291984572043;2.74906110722532;2.85318207694202;2.87272793383904;2.89662515341839;2.87866587554762;2.92642608915986;2.9299710633518;2.95828620904839;2.97799100160645;3.01848868941437;3.05934378796256;3.14293622042118;3.22855256613483;3.4060441517628;3.59306460865551;3.99584585693811;4.44055081268169;5.47230056057891;6.72517527872576;10.0780581341537;14.9557313009112;32.0716242303912;66.6315365760715;265.323099633146];
x1_step1.ymin = -1;

% Layer 1
b1 = [-1.8573313259845940504;-3.2445245631728836244;-2.2145569611209965366;1.4565895835672428849;0.36850388576671083696;1.616290017932495271;0.45544242779406857169;-0.30243083076207899484];
IW1_1 = [2.0397616276741254993 -2.053228522049691307 1.3811521620234818997 0.73729263811342393709 2.0524970975948124696 1.0998636760599249662 0.43013693538301295272 -0.9097000355161730667 -0.93508322149731315509 -0.15235955109056673051 -0.29756297616064525391 -0.36850806647468686839 -0.58174492262200638848 -0.83260710626394163203 -0.45870509956578381372 -0.47423906358777767611 0.1861849820383934262 0.008119961652252776288 -0.098200517719364693869 0.29525369004221146962 -0.22970389108016767143 0.12549122159907835639 0.27716888481052914806 -0.27328639553596933975 0.36105641072149430304 0.12419044170044134245 -0.26322278985782715521 0.020085736722675464477 0.40607003651881157236 0.18936635429268591779 0.24640185839290179581 0.14287374401198174589 0.56973489657818321419 -0.13070619142360476173 0.19532347461618104756;0.0066681058923696709048 0.0096253722321131586492 -0.0035824911001155678933 -0.0061915703943117537944 0.026498360348236195405 -0.0088748578057931768598 -0.1358129374421216673 -0.57246599981085943831 -1.6002205776731717179 -4.5143421315774734381 -2.4584031691114525131 0.43327717109181851374 1.0122080230341716778 0.014027569655945782215 0.1919075669285114083 -0.22333245331425685687 -0.40311136279385045844 0.22381341830683582073 -0.30215902679880340953 0.056976586353969647936 0.22265326164963050726 0.12763395315387682238 0.39831002249743485688 0.41832997237688279712 0.33372011126033696016 -0.087846317184689784452 0.26113607510195446793 0.2564916424102325343 0.58508333630591591312 0.30104800984006263587 0.21352180838698378573 0.57694825579320807574 0.77770150688621997315 0.44756669077998983974 0.54038525859387520622;-0.0044807468517633290001 -0.0032260583053544799464 0.0024923358202781800523 0.003545660461995097084 -0.013842104265610506719 -0.016251224218501902213 -0.11509535246763274996 -0.56172156833286779332 -1.4416273869637761251 0.008379651619975619567 -1.8834812580254363112 -3.8505477648038159977 -1.4994224172026371367 -0.79883925579937709038 -0.18226609968869830758 0.23556510187806184442 0.62854628076118734814 0.2631226625189074797 0.32360374889379167618 0.11630974188239170952 -0.13182347406565550485 0.33120463791555820876 -0.093600302863889081606 0.56350325344216911638 0.17284293255415286716 0.42459463593930202308 0.38696221724372797945 0.83467404201190664725 0.51313842109334051322 0.14559718968728027622 0.26664168749335320774 0.86974187900000010654 0.78235856564191152973 0.92076300739940364348 0.82400335556367920731;0.0039502269752958269963 -0.00051931495787949956411 -0.0029682007537906482213 -0.006801971140443381289 0.0064827166241225525969 -0.0007585277819509823145 -0.016965714007626163384 -0.025795585820871734517 -0.11635867402982710828 0.091615317030794590769 0.12373479638657926272 0.16420397955614643437 0.74785832273673369386 0.69854282841578407837 0.8476064877518678653 0.069916219054501557717 -0.14346998623583723242 -0.00077476957328722283712 0.38318594155955709724 0.13252544684856559787 -0.18570720589465508632 -0.056553512776030177844 -0.24557877797739458003 -0.099857139939195413425 -0.16787070334703402263 0.32980259925318389236 0.1468496995681424222 0.27194686718756166943 -0.51428298239914116419 -0.43680637718820769511 0.0380994343568990812 0.21216542239086891297 -0.28148662934484935949 -0.18134189510496168118 -0.52830735671697426348;0.0015315543363019709384 -0.052057298187810560619 -0.00075159698336624942375 -0.042885649310182551164 -0.050564777656698943475 0.034892657285228924346 0.049213603279023812598 0.51711804331972577309 1.157210755400540636 -0.65253593364129358623 -0.11095129263947547948 -0.27134800378757928385 0.86494348616400018592 0.42552056452764469574 -1.4415076425597332932 -1.3492272306163570761 -0.78878547082004657476 -0.0198876077308288296 0.89160599946569973895 0.48079821452408305626 -0.20712954456630025546 -0.1562216527398232746 0.29860012980847583375 -0.40394376729086961531 0.16953381148840157566 -0.0055033528148985657105 0.12548175367021688342 -0.20281539139193538457 -0.059018264276852881733 0.051489616957852007983 0.36253507164272269492 0.120760753150214728 -0.29851271164856452156 -0.083033465212894286278 0.065937143035250250778;0.033845760040327875495 0.0041176022994559025037 -0.018100545364629981593 -0.058653899024258937533 0.086951125944515664234 0.036076087268607212599 -0.11725892141175645045 0.0012587451939067803054 -0.21152523615371554566 0.64182536177733717775 0.9803683813211812037 0.094485390662964505171 -0.54234985667405666288 -0.18452046323982768117 0.32422482195512691838 0.66791176293096377048 1.205342180047297429 0.43012472436725673886 0.13354544924809044759 -0.10014740719043348227 -0.46963945937033690914 0.24070866529731965722 -0.033963158390212890014 -0.11644133582737541122 -0.12299039167203928979 -0.21791712229780488275 0.009410543687595172152 0.30874476623114066598 -0.055763666179562777769 -0.058023360271639033703 -0.2095714815919966223 -0.39215185307521643887 -0.140731086093582064 -0.47181966768628569309 -0.4824165488346562336;0.00079021525071681420795 0.0091800864313444467679 -0.0012195957161953187298 0.010089324020078208402 0.0082298630831693815602 0.0096231278487205317712 0.18529350802374308649 0.74608826277283057937 1.9687530432639712696 -1.0738706413885550361 -0.62089754228888116572 -1.2607947615052814694 -1.2439940064939309927 -0.38626388660905752737 1.1803220755666159469 0.95958571486614974155 0.85405592410023245531 -0.19076284882700542123 -0.40112005066055328451 -0.38128159777133124875 -0.29505676106191969232 -0.10861752259538147436 0.013116385058848550535 0.2221017730479275254 -0.065936417762908552942 0.22096197737500375413 -0.1533092191892662659 0.18137221470779296695 0.22446301724670428279 -0.08675706375139702331 -0.41865385564175977562 0.29015256689261481604 0.14210632966283459622 -0.24068491354555437978 0.13590646392752139815;-0.0042152442083189479646 0.0042341513110145502854 0.0036841229831093497485 0.0098055061934201083462 -0.0015976498612251981753 0.0023467320940116238176 0.019776801326148649857 0.045897283096070745634 0.18475458216098675224 -0.15756722485868132622 -0.31034558403877826605 -0.43094898429339190127 -1.2661584738514886084 -0.65988999524590941093 0.50144762578832258182 0.59744883372826951273 0.6498320324355612021 0.1009313312767105425 0.16935893031088797289 -0.043458438872809528053 -0.36175058378676144821 -0.010507981565012772251 -0.10061569234540440609 -0.17577178738974394423 0.25887716785481751369 0.13754663387108678752 -0.034634570721407346994 0.1055598068902719594 -0.28382638518893021917 0.21058462194252938748 -0.12416735506409777579 0.0017216239874120347654 -0.12721778115160950473 0.1286443246603833912 0.073247769087588024406];

% Layer 2
b2 = [1.5774466565298110865;-1.5991056533308927179;0.37674767986517471163;0.51788207469855163101;0.58147449313280730188;-0.90807436392704421468;0.71868081492353563799;1.3644296465325778112];
LW2_1 = [-0.085567927305300842122 0.040300300294229589315 0.1276223347753865367 0.22574763172104186926 0.092311865732964432096 0.80142258065977056702 0.87146990967601034583 1.2541601509789110924;0.11636611158957452239 -0.55246969249947963654 0.20580420905205570881 3.810398938682315606 0.0086939196127249328966 0.06205240692106356315 -0.16830756412961078716 1.8877732836762739499;-0.63526957001345829568 0.16783990025923373191 0.70351946807302878639 0.036275561882934050095 -0.060722772335598980409 0.51396604290653591374 0.60081279219454941654 0.86806042376221048684;-0.46070206462649865298 1.5994272503592046331 -0.19001063260536102395 0.95534060964909328639 -0.48518024471606496784 -0.41021433330674050843 0.65530191298367379549 -0.0079591447030971512744;0.040477947836286561067 -3.2627120998718006639 -3.7325792610931909365 1.4669780386753417112 -2.3191645959861881821 -0.22652902561475543597 -3.152480298692933669 -1.6428814003615155315;-1.0754405403568663147 -2.0186427610694934742 -1.9181502132047187903 -2.2732566805222256257 0.087292593539086929533 0.1009400591521033147 2.8446082122899771782 -0.92706471470234508292;0.37404983964322735535 1.177098714843863192 -1.1949512071584003081 1.8902113440797889687 0.34078623973527766289 0.44730538899609367798 0.0062035032538542171296 -1.5830709032590113416;0.24208536421501861136 -3.4443725950752899223 2.177364266971021145 -0.6602608234455057401 -1.565932823915562766 1.3483220954239851785 0.16340389914305711305 -1.9013345773348186984];

% Layer 3
b3 = [0.95855491354261279646;-1.2542308180282886187;-0.85062377490668661384;0.03979113986913259543;0.19838376496690390827;-0.95581844059380571821;-1.1770082513263351309;1.0601894235310738157];
LW3_2 = [-1.008837571369917363 0.96694638918050945797 0.5647797539191906635 -0.60664269239314072557 0.048214143367105263827 -0.22409864768697956849 -1.4095467432930550711 -0.66758678364408086114;0.90637732015143790409 -1.8037563179718576478 0.24323842808170370589 -0.72486251129620238309 -3.7045477244459235067 1.7789143360382893011 -0.55444531548675557442 1.9018434513167026267;0.18249913483699323202 -0.79518537550201295883 -0.43838370419757988206 -1.180497987921219849 2.2876046389122404179 2.6110790701155361937 0.61492812115623862734 2.9820834942882457064;0.94470730255897994443 -1.9004206595943726743 -0.54985034479948524666 0.94971869033135603022 -5.602399903487133237 0.55337051090235700457 0.76744028736688918446 -0.90329627513793431248;-0.37777660816963748447 0.80684142677400716437 0.75949780121235921371 0.049388553568903349744 0.85374600500356345734 -1.686323411857889143 -1.9809454354133124721 4.2819538499585902969;-0.99673352092162037508 0.39959517393780918937 -0.39711766381563995409 1.0976132696071212447 -0.26805772205300126831 -0.2273379452263876721 0.57337919981957508053 -0.51760223159055451791;-0.81265089967361214818 0.44653873093634549596 -0.63411426633281398058 0.80126872289094053237 -0.12123272497519194113 -0.59663069142359737018 -0.6693830488184132621 0.10110662536363967945;0.089907003036481469849 2.0491637140657541494 0.675059553397247325 0.25068005465941817222 -0.39869963835173893862 -1.1843643989085148593 0.96403273819257440103 -0.41810145995021769094];

% Layer 4
b4 = [1.0315966436962376029;-0.99562523734546248821;0.90286326454249432594;-0.40170573375150742113;0.18539963144166649034;-0.43477666311499801877;-1.4577227602935407536;1.6106855378122821865];
LW4_3 = [-1.5199163829710216067 -2.511575969047235013 3.2311350645904024503 -4.9327754108192625182 3.1459089029310924879 1.4562762476248392041 -0.278596436044999618 -0.21226794407244470309;1.4355957964679060268 -1.1694503513200706912 0.17074447290808056343 0.27498202297464274801 -0.11995007694389843433 0.33832228717102846849 0.22497430466745746425 1.001649648612508603;-0.40885226133697477602 0.20520617394274540124 0.35036625476808608282 0.87164778784152452396 -0.48809552377925485844 -0.61692760282689473872 0.51398744801550977357 1.0527207931119375584;-0.14350561783933199478 4.9011874316502197502 1.1804755744493651282 3.3279184553378118316 2.3728412218222794117 -0.085346817716681636079 -0.26217500471949078955 -0.51765986381354489598;-0.016373525281649245477 -0.78309559080822366273 -0.57868131074949069603 1.1049468127888877333 -3.0121415707282244156 0.49062781848317865707 0.3702633636040479348 0.64402010740868942396;-0.7281999694307995652 1.6550773502078930388 0.67210441064088932706 -0.078024755645292723227 0.46145444704437288408 0.3407784675593092949 -0.93064811132081970424 -0.37658155775590795855;0.28716082962312028393 -0.30368583340373406232 -0.025501879772392620216 -2.4763428046375888236 -1.4300234492603889347 -0.64240497193206014259 0.076722386971560113667 0.45970487082586836136;0.91866297963875909183 0.27529171299691018726 -0.11550144477096985218 0.8023025979696343235 -0.71213739351928329047 -0.50049134037197862135 0.82567449291594452454 0.78470505376909893691];

% Layer 5
b5 = [-1.8606645798790077961;-1.1446841804130947207;-1.2543958485619923771;0.15736187275307922384;0.27875652415965729292;-0.79798774657587090431;1.2805776739247669571;-1.3456665487738970199];
LW5_4 = [2.7362714450482283901 0.8381937377214354612 0.70704150695881251565 -3.5731042228932112792 1.1133377010687031117 -1.7513415294732870287 0.061953103236213613592 -0.45662057303972369837;0.39821583094894469346 0.55483482075088685903 -0.52822730269774242906 0.70081497663384362262 0.54493357437065748083 0.5601761838108979541 -0.40780868588554874954 -0.77255147861445505608;2.4234609629120247298 1.5690331251237237264 -0.038845410906973104614 -2.4277999028986050334 3.3102418119015779574 -0.73446561147582545281 1.214596672791624199 0.38825446739761892978;-0.46233833642575050682 -0.10532677679347862698 -0.55279854132224492957 -0.17969843856074035893 -0.65112719887849623834 -1.7188606469461653603 0.29638582114331651907 1.4056265980980304775;-1.2291122734950945539 -0.12843775463019335703 0.39577778830794896336 -1.7768324052003803271 1.5513384296287877628 -0.43419515108156409022 2.2746198003870454762 0.44899298542931276312;-0.63849546751543595491 -0.33821668883596051058 -0.48048371485192042929 -0.66439724307883829546 -0.62471875310158908601 -0.58025502519112204247 0.38275848601390344284 -1.0938127864713698134;2.0338557562199963691 -0.40757134463917560341 -0.82139579574877885637 2.0098770626550077623 -1.1019009792175613605 1.2564976187727456836 0.33943881704565959101 0.45642300448146583269;-4.2594944504664979945 -0.77912874481998872778 1.0672411208505758751 0.40304549992649241208 0.80124598845908900913 -0.66022661727962050904 -0.59185104286602052692 -0.082220920709648009916];

% Layer 6
b6 = [1.7589225546364013475;-0.87281197160935286572;0.77971015191637305097;0.094262842442132149801;0.14493240233377868709;0.64041105395886133156;-0.95099452005382489883;-1.6612717121023625744];
LW6_5 = [-0.24040804391345818591 -0.53722096634221039313 -0.2828111719064919094 0.90197851131790940382 0.86472572201762909483 -0.62039297233536250253 -0.70333922054797837209 -0.29573978855225507845;1.6339359429427431358 0.39840356104618579458 0.85800070959271856896 -0.26966335490977755285 0.494795670461372461 -0.62543024338103869741 -2.2025289011975051068 0.5455380040911785855;-0.57953110727647916267 0.21218855748592541088 -0.47847401574969505855 0.37882366119119775805 0.86390961727428361439 -1.0920561038353999717 0.6381886123785593945 0.11720843866241051345;-1.1570004936009004037 -0.38724498971854870444 -0.56732155165280695464 -0.29186790153638536571 -0.44733232276554413254 -0.61905172446293277311 -3.006682459136572394 2.9859762071150348639;-0.81397971940366420363 -0.035247381628747506688 -2.5781749968021836494 2.126467325030638289 -2.443129884507166949 0.6155532450527804178 1.1658490925484177314 0.082497289813435806249;1.8356354986264680207 -0.99433173954286768748 -0.44016070590584616129 -0.70209900894926091652 -0.15252064874376267123 -0.072412451965767343776 -0.70782502109240441612 0.19132560937137396695;-4.0736248162991675059 0.41008747221121227833 -3.8932016911942617376 -0.030891751933796163937 0.54514781509616327959 -1.2724087020408940685 0.41713469757593718557 2.3598206639647134608;-0.16738966853166303839 -0.79908353800292775126 -0.15062095263956154501 1.0688027962568977802 -0.61395149376020086152 -0.77802807857399791658 0.41524918737103339028 1.1906437938125766784];

% Layer 7
b7 = [0.39722330134806504986;1.1374036871160506657];
LW7_6 = [1.3526659718579465697 -0.27595962334242307712 0.75127891253178535891 -0.16912435605926762205 3.9265280276606233656 2.2198558626875359856 2.8696432318029621023 -1.075244662215465663;0.22137435333879201815 -2.1345269937893962542 0.98071214609679135954 2.8623238675918307727 0.28792213761233259595 0.03700090961317438476 0.15270454942747671567 1.7266562840614323449];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [3.03030303030303;3.16243615743131];
y1_step1.xoffset = [0.03;3.16978638492222e-05];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX
  X = {X};
end

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    Xp1 = mapminmax_apply(X{1,ts},x1_step1);
    
    % Layer 1
    a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*Xp1);
    
    % Layer 2
    a2 = tansig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Layer 3
    a3 = tansig_apply(repmat(b3,1,Q) + LW3_2*a2);
    
    % Layer 4
    a4 = tansig_apply(repmat(b4,1,Q) + LW4_3*a3);
    
    % Layer 5
    a5 = tansig_apply(repmat(b5,1,Q) + LW5_4*a4);
    
    % Layer 6
    a6 = tansig_apply(repmat(b6,1,Q) + LW6_5*a5);
    
    % Layer 7
    a7 = repmat(b7,1,Q) + LW7_6*a6;
    
    % Output 1
    Y{1,ts} = mapminmax_reverse(a7,y1_step1);
end

% Final Delay States
Xf = cell(1,0);
Af = cell(7,0);

% Format Output Arguments
if ~isCellX
  Y = cell2mat(Y);
end
Y(2, :) = Y(2, :) * 50;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
